@inherits WAComponentBase
<wa-tab @ref="@Element"
        id="@Id"
        @attributes="@AdditionalAttributes"
        style="@StyleNames"
        class="@ClassNames"
        slot="@Slot"
        panel="@Name"
        Disabled="@Disabled">
    @TabContent
    @Label
</wa-tab>
@if (Closeable)
{
    <wa-icon-button slot="nav" tabindex="-1" name="xmark" label="@($"Close the {Label} tab")"></wa-icon-button>
}
<wa-tab-panel name="@Name"
              style="@StyleNames"
              class="@ClassNames">
    @PanelContent
</wa-tab-panel>
@code {
    [Parameter]
    public RenderFragment? PanelContent { get; set; }

    [Parameter]
    public RenderFragment? TabContent { get; set; }

    /// <summary>
    /// The text to display in the tab nav
    /// </summary>
    [Parameter]
    public string? Label { get; set; }

    /// <summary>
    /// Allow the tab to be closed.
    /// </summary>
    [Parameter]
    public bool Closeable { get; set; } = false;

    /// <summary>
    /// The name of the tab panel this tab is associated with.
    /// </summary>
    [Parameter, EditorRequired]
    public string? Name { get; set; }

    /// <summary>
    /// Disables the tab and prevents selection.
    /// </summary>
    [Parameter]
    public bool Disabled { get; set; } = false;
}
